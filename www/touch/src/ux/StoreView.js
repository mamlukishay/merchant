/*d31b54474f3759ef75201443f0e5dabfe6eb7567*/Ext.define("Ext.ux.StoreView",{override:"Ext.data.Store",config:{},constructor:function(){this.callParent(arguments);if(this.getViewInstances()&&Ext.isArray(this.getViewInstances())&&this.getViewInstances().length>0){this.initViews()}else{this.config.views={}}this.initEvents()},initEvents:function(){this.on({addrecords:this.refreshViews,updaterecord:this.refreshViews,removerecords:this.refreshViews,refresh:this.refreshViews,scope:this})},initViews:function(){var d=0,c=this.getViewInstances().length,a,b={};for(;d<c;d++){a=this.getViewInstances()[d];b[a.name]=this.createView(a)}this.config.views=b},createView:function(a){Ext.apply(a,{store:Ext.create("Ext.data.Store",{model:this.getModel(),data:this.data.filterBy(Ext.bind(a.filterFn,this,[a.params],true),this,true).items}),refresh:Ext.bind(this.refreshView,this,[a.name],true)});return a},addView:function(b){var a=this.getView(b);if(a&&a.name){console.log('View with the name "'+b.name+'" already exists... overwriting.')}var c=this.createView(b);this.getViewInstances()[c.name]=c;return c},refreshViews:function(){var b=this.getViewInstances(),a;for(var c in b){if(b.hasOwnProperty(c)){a=b[c];this.refreshView(a)}}},refreshView:function(a){if(Ext.isString(a)){a=this.getViewData(a)}a.store.removeAll();a.store.add(this.data.filterBy(Ext.bind(a.filterFn,this,[a.params],true),this,true).items)},getActual:function(a){return this.getById(a.getId())},getViewInstances:function(){return this.config.views},getView:function(b,c){var a=this.getViewData(b);if(Ext.isEmpty(a)){return null}if(!Ext.isEmpty(c)){a.params=c;this.refreshView(a)}return a.store},getViewData:function(a){return this.getViewInstances()[a]}});Ext.define("Ext.override.Collection",{override:"Ext.util.Collection",filterBy:function(f,e,g){var j=this,a=new this.self(),b=j.keys,c=g?j.items:j.all,h=c.length,d;a.getKey=j.getKey;for(d=0;d<h;d++){if(f.call(e||j,c[d],b[d])){a.add(b[d],c[d])}}return a}});